(function(e){function t(t){for(var c,l,o=t[0],i=t[1],u=t[2],b=0,m=[];b<o.length;b++)l=o[b],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);s&&s(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(c=!1)}c&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var c={},a={app:0},r=[];function l(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=c,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(n,c,function(t){return e[t]}.bind(null,c));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01f8":function(e,t,n){e.exports=n.p+"img/5rub.44f2fd27.png"},"0864":function(e,t,n){e.exports=n.p+"img/10rub.6ad0950f.png"},"0bfa":function(e,t,n){"use strict";n("26d8")},"0c52":function(e,t,n){e.exports=n.p+"img/1rub.4bbe769c.png"},"163b":function(e,t,n){"use strict";n("af96")},"26d8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var c=n("7a23");const a={class:"wrapper"};function r(e,t,n,r,l,o){const i=Object(c["p"])("machine"),u=Object(c["p"])("client");return Object(c["l"])(),Object(c["e"])("div",a,[Object(c["h"])(i),Object(c["h"])(u)])}const l={class:"client"},o={class:"client__cash"},i=Object(c["f"])("h1",{class:"client__title"},"Кошелек",-1),u={class:"client__total"},s=Object(c["f"])("strong",null,"Сумма:",-1);function b(e,t,n,a,r,b){const m=Object(c["p"])("money");return Object(c["l"])(),Object(c["e"])("div",l,[Object(c["f"])("div",o,[i,(Object(c["l"])(!0),Object(c["e"])(c["a"],null,Object(c["n"])(e.clientMoney,t=>(Object(c["l"])(),Object(c["c"])(m,{class:"client__money",key:t.id,money:t,onClick:n=>e.moneyClick(t)},null,8,["money","onClick"]))),128)),Object(c["f"])("div",u,[s,Object(c["g"])(" "+Object(c["q"])(e.totalCash)+" руб ",1)])])])}var m=n("5502"),f={methods:{...Object(m["c"])({moneyClick:"moneyClick"})},computed:{...Object(m["d"])({clientMoney:e=>e.money}),...Object(m["b"])({totalCash:"totalClientCash"})}},d=(n("7438"),n("6b0d")),j=n.n(d);const p=j()(f,[["render",b]]);var O=p;const y={class:"machine"},h=Object(c["g"])("Остаток монет");function g(e,t,n,a,r,l){const o=Object(c["p"])("balance"),i=Object(c["p"])("list-items"),u=Object(c["p"])("cash-change");return Object(c["l"])(),Object(c["e"])("div",y,[Object(c["h"])(o,{balance:e.balance},null,8,["balance"]),Object(c["h"])(i,{items:e.items},null,8,["items"]),Object(c["h"])(u,{moneyChange:e.machineMoney},{default:Object(c["s"])(()=>[h]),_:1},8,["moneyChange"])])}const v={class:"balance"},_={class:"balance__title"},k=Object(c["f"])("strong",null,"Внесено:",-1),C=Object(c["g"])("Вернуть сдачу");function w(e,t,n,a,r,l){const o=Object(c["p"])("my-button");return Object(c["l"])(),Object(c["e"])("div",v,[Object(c["f"])("div",_,[k,Object(c["g"])(" "+Object(c["q"])(e.totalBalance)+" руб ",1)]),Object(c["h"])(o,{onClick:e.clearBalance,isDisabled:0===e.totalBalance},{default:Object(c["s"])(()=>[C]),_:1},8,["onClick","isDisabled"])])}var M={props:{balance:{type:Array,require:!0}},computed:{...Object(m["d"])({totalBalance:e=>e.totalBalance})},methods:{...Object(m["c"])({clearBalance:"clearBalance"})}};n("72ea");const B=j()(M,[["render",w]]);var I=B;const x={class:"items"},q=Object(c["f"])("h1",{class:"items__title"},"Товары",-1);function P(e,t,n,a,r,l){const o=Object(c["p"])("my-item");return Object(c["l"])(),Object(c["e"])("div",x,[q,(Object(c["l"])(!0),Object(c["e"])(c["a"],null,Object(c["n"])(n.items,t=>(Object(c["l"])(),Object(c["c"])(o,{key:t.id,newItem:t,onClick:n=>e.itemClick(t)},null,8,["newItem","onClick"]))),128))])}var S={props:{items:{type:Array,require:!0}},methods:{...Object(m["c"])({itemClick:"itemClick"})}};n("634b");const $=j()(S,[["render",P]]);var D=$;const A={class:"change"},J={class:"change__title"},T={class:"change__total"},E=Object(c["f"])("strong",null,"Сумма:",-1);function L(e,t,n,a,r,l){const o=Object(c["p"])("money");return Object(c["l"])(),Object(c["e"])("div",A,[Object(c["f"])("h1",J,[Object(c["o"])(e.$slots,"default")]),(Object(c["l"])(!0),Object(c["e"])(c["a"],null,Object(c["n"])(n.moneyChange,e=>(Object(c["l"])(),Object(c["c"])(o,{class:"change__money",key:e.id,money:e},null,8,["money"]))),128)),Object(c["f"])("div",T,[E,Object(c["g"])(" "+Object(c["q"])(e.totalCash)+" руб",1)])])}var z={props:{moneyChange:{type:Array,require:!0}},computed:{...Object(m["b"])({totalCash:"totalMachineCash"})}};n("8b48");const F=j()(z,[["render",L]]);var G=F,H={components:{CashChange:G,Balance:I,ListItems:D},computed:{...Object(m["d"])({machineMoney:e=>e.machineMoney,items:e=>e.items,balance:e=>e.balance})}};n("d91c");const K=j()(H,[["render",g]]);var N=K,Q={components:{Client:O,Machine:N}};n("0bfa");const R=j()(Q,[["render",r]]);var U=R,V=Object(m["a"])({state:()=>({totalBalance:0,items:[{id:1,title:"Чай",default:10,current:10,price:13,image:n("5f90")},{id:2,title:"Кофе",default:20,current:20,price:18,image:n("730c")},{id:3,title:"Кофе с молоком",default:20,current:20,price:21,image:n("730c")},{id:4,title:"Сок",default:15,current:15,price:35,image:n("9d3c")}],machineMoney:[{id:1,title:"1 рубль",default:100,current:100,value:1,image:n("0c52")},{id:2,title:"2 рубля",default:100,current:100,value:2,image:n("79fd")},{id:3,title:"5 рублей",default:100,current:100,value:5,image:n("01f8")},{id:4,title:"10 рублей",default:100,current:100,value:10,image:n("0864")}],money:[{id:1,title:"1 рубль",default:10,current:10,value:1,image:n("0c52")},{id:2,title:"2 рубля",default:30,current:30,value:2,image:n("79fd")},{id:3,title:"5 рублей",default:20,current:20,value:5,image:n("01f8")},{id:4,title:"10 рублей",default:15,current:15,value:10,image:n("0864")}]}),mutations:{clearBalance(e){const t=[10,5,2,1];for(let n=0;n<t.length;n++)e.money.map(c=>{c.value===t[n]&&(c.current+=Math.floor(e.totalBalance/t[n]),e.machineMoney.map(c=>{c.value===t[n]&&(c.current-=Math.floor(e.totalBalance/t[n]))}))}),e.totalBalance=e.totalBalance%t[n];e.totalBalance=0},moneyClick(e,t){t.current>0?(e.money.map(e=>{e.id===t.id&&(e.current-=1)}),e.machineMoney.map(e=>{e.id===t.id&&(e.current+=1)}),e.totalBalance+=t.value):alert(`Монтены номиналом ${t.value} руб закончились`)},itemClick(e,t){e.totalBalance>=t.price&&t.current>0?(e.items.map(e=>{e.id===t.id&&(e.current-=1)}),e.totalBalance-=t.price,alert("Спасибо за покупку!")):0===t.current?alert(t.title+" закончился"):alert("Недостаточно средств")}},getters:{totalClientCash(e){return e.money.reduce((e,t)=>e+t.value*t.current,0)},totalMachineCash(e){return e.machineMoney.reduce((e,t)=>e+t.value*t.current,0)}}});const W={class:"money"};function X(e,t,n,a,r,l){return Object(c["l"])(),Object(c["e"])("div",W,[Object(c["f"])("div",{class:"money__img",style:Object(c["k"])({backgroundImage:`url('${n.money.image}')`})},null,4),Object(c["f"])("div",{class:Object(c["j"])([n.money.current>n.money.default||n.money.default===n.money.current||n.money.current>n.money.default-Math.floor(n.money.default/3)?"money__stock green":n.money.current<=Math.floor(n.money.default/3)?"money__stock red":"money__stock yellow"])},Object(c["q"])(n.money.current>0?n.money.current+" шт":"Нет монет"),3)])}var Y={name:"Money",props:{money:{type:Object,require:!0}}};n("163b");const Z=j()(Y,[["render",X]]);var ee=Z;const te=["disabled"];function ne(e,t,n,a,r,l){return Object(c["l"])(),Object(c["e"])("button",{class:"btn",disabled:n.isDisabled},[Object(c["o"])(e.$slots,"default")],8,te)}var ce={name:"MyButton",props:{isDisabled:{type:Boolean,default:!1}}};n("f05a");const ae=j()(ce,[["render",ne]]);var re=ae;const le={class:"item"},oe={class:"item__title"},ie={key:0,class:"item__price"};function ue(e,t,n,a,r,l){return Object(c["l"])(),Object(c["e"])("div",le,[Object(c["f"])("div",{class:"item__img",style:Object(c["k"])({backgroundImage:`url('${n.newItem.image}')`})},null,4),Object(c["f"])("div",oe,Object(c["q"])(n.newItem.title),1),Object(c["f"])("div",{class:Object(c["j"])([n.newItem.default===n.newItem.current||n.newItem.current>n.newItem.default-Math.floor(n.newItem.default/3)?"item__stock green":n.newItem.current<=Math.floor(n.newItem.default/3)?"item__stock red":"item__stock yellow"])},Object(c["q"])(n.newItem.current>0?n.newItem.current+" шт":"Закончился"),3),0!==n.newItem.price?(Object(c["l"])(),Object(c["e"])("div",ie,Object(c["q"])(n.newItem.price+" руб"),1)):Object(c["d"])("",!0)])}var se={name:"MyItem",props:{newItem:{type:Object,require:!0}}};n("7c3a");const be=j()(se,[["render",ue]]);var me=be,fe=[ee,re,me];const de=Object(c["b"])(U);fe.forEach(e=>{de.component(e.name,e)}),de.use(V).mount("#app")},"5f90":function(e,t,n){e.exports=n.p+"img/tea1.bb1ba4ec.png"},"634b":function(e,t,n){"use strict";n("cae4")},"72ea":function(e,t,n){"use strict";n("a605")},"730c":function(e,t,n){e.exports=n.p+"img/coffee1.a9c71d14.png"},7438:function(e,t,n){"use strict";n("8079")},"79fd":function(e,t,n){e.exports=n.p+"img/2rub.e4253d7a.png"},"7c3a":function(e,t,n){"use strict";n("d287")},8079:function(e,t,n){},"8b48":function(e,t,n){"use strict";n("a530")},"9d3c":function(e,t,n){e.exports=n.p+"img/juice1.fc972775.png"},a050:function(e,t,n){},a530:function(e,t,n){},a605:function(e,t,n){},af96:function(e,t,n){},cae4:function(e,t,n){},d287:function(e,t,n){},d91c:function(e,t,n){"use strict";n("a050")},f05a:function(e,t,n){"use strict";n("f4ab")},f4ab:function(e,t,n){}});
//# sourceMappingURL=app.713c9ea2.js.map